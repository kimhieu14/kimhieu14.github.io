Hiáº¿u Ä‘ang muá»‘n dÃ¹ng NModbus (cÃ²n gá»i lÃ  NModbus4 â€“ báº£n .NET) Ä‘Ãºng khÃ´ng? ğŸš€
MÃ¬nh tÃ³m táº¯t cho Hiáº¿u nhÃ©:


---

1. NModbus lÃ  gÃ¬?

LÃ  má»™t thÆ° viá»‡n .NET (C#) dÃ¹ng Ä‘á»ƒ giao tiáº¿p vá»›i thiáº¿t bá»‹ qua Modbus TCP/RTU/ASCII.

DÃ¹ng nhiá»u trong SCADA, PLC, HMI, WinForm/WPF.

Open source, khÃ¡ dá»… tÃ­ch há»£p vÃ o dá»± Ã¡n C#.



---

2. CÃ i Ä‘áº·t

CÃ¡ch nhanh nháº¥t lÃ  cÃ i báº±ng NuGet trong Visual Studio:

Install-Package NModbus4


---

3. Code máº«u â€“ Modbus TCP (client Ä‘á»c PLC)

VÃ­ dá»¥ Ä‘á»c 10 thanh ghi Holding Register tá»« Ä‘á»‹a chá»‰ 0:

using System;
using System.Net.Sockets;
using NModbus;

class Program
{
    static void Main(string[] args)
    {
        string ip = "192.168.0.100"; // IP PLC
        int port = 502;             // Port chuáº©n Modbus TCP

        using (TcpClient client = new TcpClient(ip, port))
        {
            var factory = new ModbusFactory();
            var master = factory.CreateMaster(client);

            // Äá»c 10 thanh ghi Holding Register tá»« Slave ID = 1, báº¯t Ä‘áº§u táº¡i Ä‘á»‹a chá»‰ 0
            ushort startAddress = 0;
            ushort numRegisters = 10;
            ushort[] registers = master.ReadHoldingRegisters(1, startAddress, numRegisters);

            Console.WriteLine("Káº¿t quáº£ Ä‘á»c:");
            for (int i = 0; i < registers.Length; i++)
            {
                Console.WriteLine($"Register {startAddress + i}: {registers[i]}");
            }
        }
    }
}


---

4. Ghi dá»¯ liá»‡u vÃ o PLC

VÃ­ dá»¥ ghi 123 vÃ o thanh ghi 0:

master.WriteSingleRegister(1, 0, 123);


---

5. Náº¿u Hiáº¿u muá»‘n dÃ¹ng vá»›i WinForms

CÃ³ thá»ƒ Ä‘áº·t Timer Ä‘á»ƒ Ä‘á»c dá»¯ liá»‡u liÃªn tá»¥c tá»« PLC.

Dá»¯ liá»‡u Ä‘á»c vá» thÃ¬ hiá»ƒn thá»‹ lÃªn TextBox, Label, hoáº·c DataGridView.

CÃ³ thá»ƒ káº¿t há»£p vá»›i Ä‘á»c QR code, lÆ°u file .txt nhÆ° Hiáº¿u vá»«a nÃ³i hÃ´m qua.



---

ğŸ‘‰ Hiáº¿u muá»‘n mÃ¬nh viáº¿t má»™t project máº«u hoÃ n chá»‰nh (WinForms + NModbus + Ä‘á»c/ghi PLC + lÆ°u file txt) luÃ´n, hay chá»‰ cáº§n mÃ¬nh tÃ¡ch riÃªng pháº§n code Ä‘á»c/ghi báº±ng NModbus thÃ´i?

